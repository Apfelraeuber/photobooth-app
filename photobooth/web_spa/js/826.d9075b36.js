"use strict";(globalThis["webpackChunkphotobooth_app_frontend"]=globalThis["webpackChunkphotobooth_app_frontend"]||[]).push([[826],{97826:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var o=n(59835),s=n(61957);const i={key:0,id:"preview-stream",style:{"background-image":"url('/aquisition/stream.mjpg')"},class:"full-width column justify-center content-center"},r=["innerHTML"],a={key:0},u={class:"q-gutter-sm"},c=(0,o._)("div",null,[(0,o.Uk)("Take"),(0,o._)("br"),(0,o.Uk)("Picture!")],-1),l=(0,o._)("div",null,[(0,o.Uk)("Create"),(0,o._)("br"),(0,o.Uk)("Collage!")],-1),m=(0,o._)("div",null,"Gallery",-1),d=(0,o._)("div",null,"Admin",-1);function h(e,t,n,h,g,p){const w=(0,o.up)("countdown-timer"),_=(0,o.up)("q-spinner-grid"),y=(0,o.up)("q-icon"),f=(0,o.up)("q-btn"),k=(0,o.up)("q-page-sticky"),S=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(S,{class:"q-pa-none column"},{default:(0,o.w5)((()=>[e.showPreview?((0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(w,{ref:"countdowntimer",duration:this.store.statemachine.duration,remainingSeconds:this.store.statemachine.countdown,messageDuration:e.uiSettingsStore.uiSettings.TAKEPIC_MSG_TIME,countdownOffset:.5},null,8,["duration","remainingSeconds","messageDuration"]),(0,o.wy)((0,o.Wm)(_,{size:"20em"},null,512),[[s.F8,e.showProcessing]]),(0,o.wy)((0,o._)("div",{style:{position:"absolute",width:"100%",height:"100%"},id:"frontpage_text",innerHTML:e.uiSettingsStore.uiSettings["FRONTPAGE_TEXT"]},null,8,r),[[s.F8,e.showFrontpage]]),(0,o.Wm)(k,{position:"bottom",offset:[0,25]},{default:(0,o.w5)((()=>[e.showFrontpage?((0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",u,[(0,o.Wm)(f,{color:"primary","no-caps":"",onClick:t[0]||(t[0]=t=>e.takePicture())},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{left:"",size:"7em",name:"photo_camera"}),c])),_:1}),(0,o.Wm)(f,{color:"primary","no-caps":"",onClick:t[1]||(t[1]=t=>e.takeCollage())},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{left:"",size:"7em",name:"auto_awesome_mosaic"}),l])),_:1}),(0,o.Wm)(f,{color:"primary","no-caps":"",to:"/gallery"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{left:"",size:"7em",name:"photo_library"}),m])),_:1}),e.uiSettingsStore.uiSettings.SHOW_ADMIN_LINK_ON_FRONTPAGE?((0,o.wg)(),(0,o.j4)(f,{key:0,color:"secondary","no-caps":"",to:"/admin"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{left:"",size:"7em",name:"admin_panel_settings"}),d])),_:1})):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)])),_:1})])):(0,o.kq)("",!0)])),_:1})}var g=n(91569),p=n(19302),w=n(67575),_=n(96694);const y={style:{width:"40%",height:"40%"}};function f(e,t,n,i,r,a){const u=(0,o.up)("q-circular-progress"),c=(0,o.up)("q-icon");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",y,[(0,o.wy)((0,o.Wm)(u,{"show-value":"",class:"text-light-blue",style:{width:"100%",height:"100%"},value:e.remainingSeconds,min:0,max:this.duration,reverse:"",size:"150px",color:"light-blue"},null,8,["value","max"]),[[s.F8,e.showCountdown]]),(0,o.wy)((0,o.Wm)(c,{name:e.icon,size:"200px",style:{width:"100%",height:"100%"}},null,8,["name"]),[[s.F8,e.showMessage]])],512)),[[s.F8,e.showBox]])}const k=(0,o.aZ)({name:"CountdownTimer",data(){return{}},watch:{},computed:{showBox(){return this.remainingSeconds>0},showCountdown(){return+this.remainingSeconds>=this.messageDuration},showMessage(){return!this.showCountdown}},methods:{},props:{remainingSeconds:{type:Number,required:!0},duration:{type:Number,required:!0},messageDuration:{type:Number,default:.5},message:{type:String,default:"Cheeeese :)"},icon:{type:String,default:"ðŸ˜ƒ"}}});var S=n(11639),C=n(83302),v=n(22857),b=n(69984),P=n.n(b);const q=(0,S.Z)(k,[["render",f]]),T=q;P()(k,"components",{QCircularProgress:C.Z,QIcon:v.Z});const W=(0,o.aZ)({components:{CountdownTimer:T},setup(){(0,p.Z)();const e=(0,w.h)(),t=(0,_.R)();return{store:e,uiSettingsStore:t,remoteProcedureCall:g.remoteProcedureCall}},methods:{takePicture(){(0,g.remoteProcedureCall)("/processing/chose/1pic")},takeCollage(){(0,g.remoteProcedureCall)("/processing/chose/collage")}},computed:{showProcessing:{get(){return this.store.statemachine.processing}},remainingCountdown:{get(){return this.store.statemachine.countdown?this.store.statemachine.countdown:0}},showPreview:{get(){const e=!0,t="idle"==this.store.statemachine.state,n="counting"==this.store.statemachine.state;return e&&(t||n)}},showFrontpage:{get(){return"idle"==this.store.statemachine.state}}}});var Z=n(69885),F=n(93040),x=n(30627),D=n(68879);const N=(0,S.Z)(W,[["render",h]]),z=N;P()(W,"components",{QPage:Z.Z,QSpinnerGrid:F.Z,QPageSticky:x.Z,QBtn:D.Z,QIcon:v.Z})}}]);